// Use variables
@use 'variables' as *;

// Responsive Breakpoints
@mixin mobile {
  @media (max-width: #{$mobile - 1px}) {
    @content;
  }
}

@mixin tablet {
  @media (min-width: #{$mobile}) and (max-width: #{$tablet - 1px}) {
    @content;
  }
}

@mixin desktop {
  @media (min-width: #{$tablet}) {
    @content;
  }
}

@mixin large-desktop {
  @media (min-width: #{$desktop}) {
    @content;
  }
}

@mixin mobile-up {
  @media (min-width: #{$mobile}) {
    @content;
  }
}

@mixin tablet-up {
  @media (min-width: #{$tablet}) {
    @content;
  }
}

@mixin desktop-up {
  @media (min-width: #{$desktop}) {
    @content;
  }
}

// Cyberpunk Effects
@mixin neon-glow($color: $cyberpunk-yellow, $intensity: 1) {
  box-shadow: 
    0 0 5px rgba($color, 0.5 * $intensity),
    0 0 10px rgba($color, 0.3 * $intensity),
    0 0 15px rgba($color, 0.2 * $intensity),
    0 0 20px rgba($color, 0.1 * $intensity);
}

@mixin neon-text-glow($color: $cyberpunk-yellow, $intensity: 1) {
  text-shadow: 
    0 0 5px rgba($color, 0.8 * $intensity),
    0 0 10px rgba($color, 0.6 * $intensity),
    0 0 15px rgba($color, 0.4 * $intensity),
    0 0 20px rgba($color, 0.2 * $intensity);
}

@mixin cyberpunk-border($color: $cyberpunk-yellow, $width: 2px) {
  border: $width solid $color;
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    top: -$width;
    left: -$width;
    right: -$width;
    bottom: -$width;
    background: linear-gradient(45deg, transparent, rgba($color, 0.1), transparent);
    z-index: -1;
  }
}

@mixin glitch-effect {
  position: relative;
  
  &::before,
  &::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
  
  &::before {
    animation: glitch-1 0.5s infinite;
    color: $cyberpunk-red;
    z-index: -1;
  }
  
  &::after {
    animation: glitch-2 0.5s infinite;
    color: $cyberpunk-blue;
    z-index: -2;
  }
}

// Flexbox Utilities
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

@mixin flex-column {
  display: flex;
  flex-direction: column;
}

@mixin flex-column-center {
  @include flex-column;
  align-items: center;
  justify-content: center;
}

// Button Mixins
@mixin cyberpunk-button($bg-color: $cyberpunk-yellow, $text-color: $cyberpunk-black) {
  background: $bg-color;
  color: $text-color;
  border: 2px solid $bg-color;
  padding: $spacing-sm $spacing-lg;
  font-family: $font-primary;
  font-weight: $font-weight-bold;
  text-transform: uppercase;
  letter-spacing: 1px;
  cursor: pointer;
  transition: all $transition-base;
  position: relative;
  overflow: hidden;
  
  &:hover {
    background: transparent;
    color: $bg-color;
    @include neon-glow($bg-color);
  }
  
  &:active {
    transform: scale(0.98);
  }
}

// Card Mixins
@mixin cyberpunk-card {
  background: rgba($cyberpunk-dark-gray, 0.9);
  border: 1px solid rgba($cyberpunk-yellow, 0.3);
  border-radius: $border-radius-md;
  padding: $spacing-lg;
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, 
      rgba($cyberpunk-yellow, 0.1) 0%, 
      transparent 50%, 
      rgba($cyberpunk-blue, 0.1) 100%);
    pointer-events: none;
  }
  
  &:hover {
    border-color: rgba($cyberpunk-yellow, 0.6);
    @include neon-glow($cyberpunk-yellow, 0.3);
  }
}

// Animation Keyframes
@keyframes glitch-1 {
  0%, 100% { transform: translate(0); }
  20% { transform: translate(-2px, 2px); }
  40% { transform: translate(-2px, -2px); }
  60% { transform: translate(2px, 2px); }
  80% { transform: translate(2px, -2px); }
}

@keyframes glitch-2 {
  0%, 100% { transform: translate(0); }
  20% { transform: translate(2px, -2px); }
  40% { transform: translate(2px, 2px); }
  60% { transform: translate(-2px, -2px); }
  80% { transform: translate(-2px, 2px); }
}

@keyframes neon-flicker {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.8; }
}

@keyframes pulse-glow {
  0%, 100% { 
    box-shadow: 0 0 5px rgba($cyberpunk-yellow, 0.5);
  }
  50% { 
    box-shadow: 0 0 20px rgba($cyberpunk-yellow, 0.8);
  }
}